<?xml version="1.0" encoding="utf-8"?><?xml-model href="./schema/cavatina_docbook.rnc" type="application/relax-ng-compact-syntax"?><article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xila="http://www.w3.org/2001/XInclude/local-attributes" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook" version="5.1-extended">
  <info>
    <title>Documentation for Cavatina</title>

    <author>
      <personname><firstname>Alexis</firstname><surname>Luengas</surname></personname>

      <affiliation>
        <orgname>Hochschule der Medien Stuttgart</orgname>
      </affiliation>
    </author>

    <pubdate>01.06.2018</pubdate>
  </info>

  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/general_concept.xml">
    <info>
        <title>General concept</title>
    </info>
    <section>
        <title>Language overview</title>
        <para>You type in your music <emphasis role="italic">sequentially</emphasis>, i.e. the same
            way as in written language. Chords are words, bar-lines are punctuation marks,
            accidentals are diacritics and staff lines are the space character. Here is the base of
            Cavatina’s syntax: </para>
        <orderedlist>
            <listitem>
                <para>Hitting space extends the staff for starting a new note/chord.</para>
            </listitem>
            <listitem>
                <para>Notes within a chord are typed in <emphasis role="italic">from low to high</emphasis>.</para>
            </listitem>
            <listitem>
                <para>Note modifiers are written directly <emphasis role="italic">after</emphasis> the corresponding note.</para>
            </listitem>
        </orderedlist>
    </section>
    <section>
        <title>Character mappings</title>
        <para>Notes and all other musical symbols are accessed directly with your computer keyboard. The input depends on what keyboard layout you use. 
            The complete keyboard mapping for each layout can be found on the <link xlink:href="http://cavatinafont.com/en/keyboard">keyboard page</link>, but if you are new to Cavatina, it’s recommended to read 
            through the whole documentation first.</para>
    </section>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/the_musical_note.xml">
    <info>
        <title>The musical note</title>
    </info>
    
    <para>The location of each note is motivated by the fact that the lowest row of characters
        just above the space bar has exactly <emphasis role="bold">seven letters</emphasis>: the
        seven pitches of a diatonic scale.</para>
    
    <para>It is easy to learn where this seven notes are because of their physical location on
        the keyboard. It’s like playing on the piano, but without the black keys.</para>
    
    <!--<mediaobject>
        <imageobject>
            <imagedata fileref="images/keyboard_basic.png"/>
        </imageobject>
    </mediaobject>-->
    
    <para>Most musicians aren't happy with just seven notes. Following the idea above, we get a
        new octave for each of the four rows of the keyboard above the space bar, with the top
        row having three additional notes, like this:</para>
    
    <!--<mediaobject>
        <imageobject>
            <imagedata fileref="images/keyboard_overview.png"/>
        </imageobject>
    </mediaobject>-->
    
    <note>
        <para>Notice each column contains the same note in different octaves.</para>
    </note>
    
    <para>If you have used other notation software, you are probably used to look
        for the <code role="computer-key">C</code> key if you want to write a <emphasis role="italic">C</emphasis>, and so on. This is not very efficient, because
        sadly these letters aren’t ordered in such order in a row. When writing notes
        with Cavatina, once you get your fingers placed in the right position, you have
        all notes you need at your fingertips and you don’t have to look
        back down at the keyboard.
    </para>
    
    <section version="5.1-extended" xml:base="note/note_length.xml">
    <info>
        <title>Note length</title>
    </info>
    <para> So far we have 31 notes (covering a bit more than four octaves). Each of these characters
        has its lowercase and uppercase variant, which correspond to the note in
            8<superscript>th</superscript> and 4<superscript>th</superscript> length accordingly.
        Switching to the bold weight of Cavatina, you get 16<superscript>th</superscript>-notes in
        the lowercase and 8<superscript>th</superscript>-notes in the uppercase characters. </para>

    <informaltable>
        <thead>
            <tr>
                <td/>
                <th>Input</th>
                <th>Note length</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th rowspan="2">Regular style</th>
                <td>
                    <code role="computer-key">a</code>
                </td>
                <td> 8<superscript>th</superscript>
                </td>
            </tr>
            <tr>
                <td>
                    <code role="computer-key">A</code>
                </td>
                <td> 4<superscript>th</superscript>
                </td>
            </tr>

            <tr>
                <th rowspan="2">Bold style</th>
                <td>
                    <code role="computer-key"><emphasis role="bold">a</emphasis></code>
                </td>
                <td> 16<superscript>th</superscript>
                </td>
            </tr>
            <tr>
                <td>
                    <code role="computer-key"><emphasis role="bold">A</emphasis></code>
                </td>
                <td> 8<superscript>th</superscript>
                </td>
            </tr>
        </tbody>
    </informaltable>

    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">, a A <emphasis role="bold">a
                            A</emphasis>,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>

    <para>Appart from that, Cavatina has a special key that serves as a <emphasis role="bold">modifier key</emphasis>: the <code role="computer-key">^</code>/<code role="computer-key">°</code> key. We are going to call
        <code role="computer-key">^</code> the <glossterm>inverter</glossterm> and <code role="computer-key">°</code> the
            <glossterm>time</glossterm> character, the latter of which, among other things, extends
        the duration of notes. Every time you hit the time key after a note, the note’s length
        doubles. You can do this up to a maximum of twice per note, i.e. for a whole note you would
        need to type a 4<superscript>th</superscript>-note followed by two times <code role="computer-key">°</code>.</para>

    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">, f F f~ f~~ F~ F~~,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>

    <para>For <glossterm>dotted notes</glossterm> you use <code role="computer-key">&lt;</code> after the note.</para>
    <para>To draw a <glossterm>tie</glossterm> after a note append an <code role="computer-key">L</code>.</para>
</section>
    <section version="5.1-extended" xml:base="note/note_orientation.xml">
    <info>
        <title>Note orientation</title>
    </info>
    <para>The stem of a note can be inverted. This is done with the <glossterm>inverter</glossterm><code role="computer-key">^</code>. A note can only be inverted once (which doesn’t stop
        you from un-inverting).</para>
    <para>To invert the stem of a chord you invert the first note of the chord. If the next note in
        the chord would collide in its default orientation, then it is automatically inverted.
        Otherwise keep inverting until you obtain the desired result. This is useful for separating
        voices within one chord.</para>
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">, f f^ j j^, afj a^fj a^f^j a^f^j^,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section version="5.1-extended" xml:base="note/note_rests.xml">
    <info>
        <title>Rests</title>
    </info>
    <para>Rests are accessed via the <code role="computer-key">ü</code>/<code role="computer-key">Ü</code> key. Their
        duration is changed the same way as for notes. Optionally, you can write the same rest twice
        and the length will increase accordingly.</para>
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">, ü Ü üü ÜÜ ü° ü°° Ü° Ü°°,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section version="5.1-extended" xml:base="note/note_beams.xml">
    <info>
        <title>Note beams</title>
    </info>
    
    <para>To beam two 8<superscript>th</superscript> or 16<superscript>th</superscript> notes, write two dots <code role="computer-key">..</code> after the second note. Both
        notes need to have the same orientation before they can be beamed. Currently only pairs of
        notes can be beamed.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">,  dh sj..  d^h^ s^..j  d^h s^..j^..,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/staff_and_barlines.xml">
  <info>
    <title>Staff and Barlines</title>
  </info>

  <para>When you hit the spacebar you draw a new staff “block”.
  Before any note or chord, you have to draw a new <emphasis role="musical-term">staff</emphasis> block where this note
  or chord will sit.</para>

  <para>The barlines are located as follows:</para>

  <informaltable>
    <thead>
      <tr>
        <th>Musical symbol</th>
        <th>Computer key</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>simple barline</td>
        <td><code role="computer-key">,</code></td>
      </tr>
      <tr>
        <td>double barline</td>
        <td><code role="computer-key">,,</code></td>
      </tr>
      <tr>
        <td>final barline</td>
        <td><code role="computer-key">.</code></td>
      </tr>
      <tr>
        <td>repeat barline (start)</td>
        <td><code role="computer-key">;</code></td>
      </tr>
      <tr>
        <td>repeat barline (end)</td>
        <td><code role="computer-key">:</code></td>
      </tr>
    </tbody>
  </informaltable>

  <para>Cavatina is not made to do minor adjustments to the layout, but if you
  consider it necessary, you can gain control over horizontal spacing by using
  the half space <code role="computer-key">-</code> and the quarter space <code role="computer-key">--</code>.</para>
  
  <example>
    <title>Example</title>
    <informaltable>
      <thead>
        <tr>
          <th>Input</th>
          <th>Rendered output</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code role="computer-key">, ,, . ; :</code></td>
          <td/>
        </tr>
      </tbody>
    </informaltable>
  </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/clefs.xml">
    <info>
        <title>Clefs</title>
    </info>
    
    <para>Cavatina supports three different clefs:</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>F-clef</td>
                <td><code role="computer-key">?</code></td>
            </tr>
            <tr>
                <td>C-Clef</td>
                <td><code role="computer-key">?ß</code> or <code role="computer-key">ß?</code></td>
            </tr>
            <tr>
                <td>G-Clef</td>
                <td><code role="computer-key">ß</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The input of the notes is invariant of the signature; it doesn’t depend on the current
        clef.</para>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/time_signatures.xml">
    <info>
        <title>Time Signatures</title>
    </info>
    
    <para>Time signatures have to be written after clefs (and key signatures) or barlines. To start
        a time signature enter the <emphasis role="musical-term">time</emphasis> key <code role="computer-key">°</code>. After
        that you just write the upper and lower numeral successively. </para>
    
    <para>To write the <emphasis role="musical-term">common time</emphasis> or <emphasis role="musical-term">cut
        time</emphasis> symbols, enter <code role="computer-key">c</code> or <code role="computer-key">C</code> 
        after the <emphasis role="italic">time</emphasis> key.</para>
    
    <para>A space is automatically attached after a time signature, so that you don’t have to open a
        new staff block yourself.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">,°34 ,°1216 ,?'''°34 ,°c ,</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/articulations.xml">
    <info>
        <title>Articulations</title>
    </info>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>staccato</td>
                <td><code role="computer-key">ä</code></td>
            </tr>
            <tr>
                <td>tenuto</td>
                <td><code role="computer-key">Ä</code></td>
            </tr>
            <tr>
                <td>staccatissimo</td>
                <td><code role="computer-key">ää</code></td>
            </tr>
            <tr>
                <td>fermata</td>
                <td><code role="computer-key">ÄÄ</code></td>
            </tr>
            <tr>
                <td>accent</td>
                <td><code role="computer-key">&gt;</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>All articulations are written after the lowest note of a chord, except the fermata, which
        is written after the highest note. </para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key"> Aä AÄ Aää AÄÄ A&gt;</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/dynamics.xml">
    <info>
        <title>Dynamics</title>
    </info>
    <para>Dynamics are aligned with respect to the note to which they are applied. Therefore, if you
        are writing a chord with some dynamics marking, you should write that marking just after the
        first (lowest) note of the chord.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>pianississimo</td>
                <td><code role="computer-key">***</code></td>
            </tr>
            <tr>
                <td>pianissimo</td>
                <td><code role="computer-key">**</code></td>
            </tr>
            <tr>
                <td>piano</td>
                <td><code role="computer-key">*</code></td>
            </tr>
            <tr>
                <td>mezzo piano</td>
                <td><code role="computer-key">*+</code></td>
            </tr>
            <tr>
                <td>mezzo forte</td>
                <td><code role="computer-key">+*</code></td>
            </tr>
            <tr>
                <td>forte</td>
                <td><code role="computer-key">+</code></td>
            </tr>
            <tr>
                <td>fortissimo</td>
                <td><code role="computer-key">++</code></td>
            </tr>
            <tr>
                <td>fortississimo</td>
                <td><code role="computer-key">+++</code></td>
            </tr>
            <tr>
                <td>sforzando</td>
                <td><code role="computer-key">++*</code> or
                    <code role="computer-key">**+</code></td>
            </tr>
            <tr>
                <td>forte-piano</td>
                <td><code role="computer-key">***+</code> or 
                    <code role="computer-key">+++*</code> or 
                    <code role="computer-key">**^</code> or 
                    <code role="computer-key">++^</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>crescendo</td>
                <td><code role="computer-key">l</code></td>
            </tr>
            <tr>
                <td>decrescendo</td>
                <td><code role="computer-key">l^</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key"> d*fh h^++er M**+ Dl </code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/ornaments.xml">
    <info>
        <title>Ornaments</title>
    </info>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>mordent</td>
                <td><code role="computer-key">ö</code></td>
            </tr>
            <tr>
                <td>inv. mordent</td>
                <td><code role="computer-key">ö^</code></td>
            </tr>
            <tr>
                <td>trill</td>
                <td><code role="computer-key">öö</code></td>
            </tr>
            <tr>
                <td>turn</td>
                <td><code role="computer-key">Ö</code></td>
            </tr>
            <tr>
                <td>inv. turn</td>
                <td><code role="computer-key">Ö^</code></td>
            </tr>
            <tr>
                <td>arpeggio</td>
                <td><code role="computer-key">P</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Note that, intuitively enough, ornaments are inverted with the <emphasis role="musical_term">inverter</emphasis> key <code role="computer-key">^</code>.</para>
    <para>To extend the trill or the arpeggio repeat that same character. The arpeggio is written at
        the end of a chord. </para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key"> Dö DÖ Dö^ DÖ^ Döö Döööö </code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/repetition_markings.xml">
    <info>
        <title>Repetition markings</title>
    </info>
    
    <para>Apart from the repeat barlines <code role="computer-key">;</code>/<code role="computer-key">:</code>, you
        can use the following repetition markings:</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1<superscript>st</superscript> repetition</td>
                <td><code role="computer-key">o</code></td>
            </tr>
            <tr>
                <td>2<superscript>nd</superscript> repetition</td>
                <td><code role="computer-key">oo</code></td>
            </tr>
            <tr>
                <td>end marking</td>
                <td><code role="computer-key">o^</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The end marking is necessary for the MusicXML/MIDI converter to detect the range of the
        repetition sections.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>coda</td>
                <td><code role="computer-key">i</code></td>
            </tr>
            <tr>
                <td>segno</td>
                <td><code role="computer-key">I</code></td>
            </tr>
            <tr>
                <td>D.C.</td>
                <td>k</td>
            </tr>
            <tr>
                <td>D.S.</td>
                <td>K</td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Writing <emphasis role="italic">coda</emphasis> or <emphasis role="italic">segno</emphasis> right after <emphasis role="italic">D.C.</emphasis> or <emphasis role="italic">D.S.</emphasis> will append the words "al Coda" and "al Fine" accordingly.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">, D F G Do, D F D Go^:oo D S A Ü.</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/other_notation.xml">
    <info>
        <title>Other Notation</title>
    </info>
    
    <para>Octave markings are used in a similar manner as repetition markings and always after the
        highest note in a chord.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>8<superscript>va</superscript></td>
                <td><code role="computer-key">O</code></td>
            </tr>
            <tr>
                <td>8<superscript>va</superscript> (2)</td>
                <td><code role="computer-key">OO</code></td>
            </tr>
            <tr>
                <td>end 8<superscript>va</superscript></td>
                <td><code role="computer-key">O^</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The triplet is written before the chord sequence. Use tight spacing to fit the notes under
        the mark: enter three quarter-spaces <code role="computer-key">---</code> between the notes.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>triplet</td>
                <td><code role="computer-key">_</code></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Pedal markings are lower markings and as such they have to be applied to the first note of
        a chord.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>pedal</td>
                <td><code role="computer-key">p</code></td>
            </tr>
            <tr>
                <td>release pedal</td>
                <td><code role="computer-key">pp</code></td>
            </tr>
        </tbody>
    </informaltable>
</section>
  <section xmlns:cav="http://cavatina-font.com/docbook" version="5.1-extended" xml:base="sections/staff_systems.xml">
    <info>
        <title>Staff systems</title>
    </info>
    
    <para>To create systems of multiple staves you can extend barlines to join with the upper staff.
        To draw a <emphasis role="italic">grand staff</emphasis>, first enter a newline followed by
        a single barline <code role="computer-key">,</code> to start a new staff. To draw the brace connecting with the
        upper staff, type in <code role="computer-key">**</code>. Then continue with the clef and key signature as you
        would normally do. To connect the subsequent barlines, write a single <code role="computer-key">*</code> after
        them. </para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Computer key</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>brace</td>
                <td><code role="computer-key">,**</code></td>
            </tr>
            <tr>
                <td>long barlines</td>
                <td><code role="computer-key">,*</code> or <code role="computer-key">.*</code> ...</td>
            </tr>
        </tbody>
    </informaltable>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Rendered output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code role="computer-key">,ß''' DFJ DGJ J s d&gt;..,
,** ?''' A D Ü MJ ,*</code></td>
                    <td/>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
  
</article>