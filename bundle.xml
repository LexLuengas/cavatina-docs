<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="./schema/cavatina_docbook.rnc" type="application/relax-ng-compact-syntax"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xila="http://www.w3.org/2001/XInclude/local-attributes" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook" version="5.1-extended">
    <info>
        <title>Cavatina Documentation</title>

        <author>
            <personname>
                <firstname>Alexis</firstname>
                <surname>Luengas</surname>
            </personname>
            <affiliation>
                <orgname>Hochschule der Medien Stuttgart</orgname>
            </affiliation>
        </author>
        <pubdate>01.06.2018</pubdate>
    </info>

    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/general_concept.xml">
    <?dbhtml filename="general_concept.html" ?>

    <info>
        <title>General concept</title>
    </info>

    <para>Cavatina is a language for creating musical notation and a font system that renders it. It focuses on
        ease of input and portability and is primarly suited for music teaching and quick drafting of ideas. Portability
        is achieved in a very unique manner. Cavatina sheet music <emphasis role="italic">is</emphasis> text and as such it will support all common text
        manipulation commands. As you write, the input is interpreted straight away
        by the text engine, so that firstly it won't feel like coding and, more importantly, there is no need to
        “compile” it. This makes Cavatina really portable. It is ideal for traveling and teaching music. Also, it can be
        easily embedded as a webfont in any website.
    </para>

    <para>The font implements a rendering concept which could be called <emphasis role="italic">image-as-text</emphasis>, using implicit compilation of a text
        engine via contextual character substitutions. This has the advantage of supporting all common text manipulation functions of any
        rich text editor, such as copy, paste, cut, and undo. As a plain font, Cavatina can be embedded into a web page
        or web app with minimal effort.
    </para>

    <cav:music-notation>+---~24 ] g|| g.. g.., D~"", ] f|| f.. f.., S~L, S~"",</cav:music-notation>

    <note>
        <title>Browser support</title>
        <para>Cavatina renders on the latest versions of Chrome, Firefox and Opera. Tested on Windows 10 and MacOS High Sierra.</para>
    </note>
    

    <section>
        <?dbhtml filename="language_overview.html" ?>

        <title>Language overview</title>
        <para>You type in your music <emphasis role="italic">sequentially</emphasis>, i.e. the same
            way as in written language. Chords are words, bar-lines are punctuation marks,
            accidentals are diacritics and staff lines are the space character. Here is the base of
            Cavatina’s syntax:
        </para>
        <orderedlist>
            <listitem>
                <para>Hitting space extends the staff for starting a new note/chord.</para>
            </listitem>
            <listitem>
                <para>Notes within a chord are typed in <emphasis role="italic">from low to high</emphasis>.
                </para>
            </listitem>
            <listitem>
                <para>Note modifiers are written directly <emphasis role="italic">after</emphasis> the corresponding
                    note.
                </para>
            </listitem>
        </orderedlist>
    </section>

    <section>
        <?dbhtml filename="character_mapping.html" ?>

        <title>Character mapping</title>
        <para>Notes and all other musical symbols are accessed directly with your computer keyboard. The input depends
            on what keyboard layout you use.
            The complete keyboard mapping for each layout can be found on the <link xlink:href="http://cavatinafont.com/en/keyboard">keyboard page</link>. If you are new to
            Cavatina, it is a better idea to read through the short documentation first.
        </para>
    </section>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xila="http://www.w3.org/2001/XInclude/local-attributes" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1-extended" xml:base="sections/the_musical_note.xml">
    <?dbhtml filename="the_musical_note.html" ?>
    
    <info>
        <title>The musical note</title>
    </info>
    
    <para>The location of each note is motivated by the fact that the lowest row of characters
        just above the space bar has exactly <emphasis role="bold">seven letters</emphasis>: the
        seven pitches of a diatonic scale.</para>
    
    <para>It is easy to learn where this seven notes are because their physical location on
        the keyboard.</para>
    
    <cav:figure id="keyboard-full"/>
    
    <cav:music-notation id="notation-scale">  A  S  D  F  G  H  J</cav:music-notation>
    
    <para>Most musicians aren't happy with just seven notes. Following the idea above, we get a
        new octave for each of the four rows of the keyboard above the space bar, with the top
        row having three additional notes, like this:</para>
   
    <cav:figure id="keyboard-overview"/>
    
    <note>
        <para>Notice each column of keyboard keys maps to the same note in different octaves.</para>
    </note>
    
    <para>If you have used other notation software, you are probably used to look
        for the <cav:computer-key>C</cav:computer-key> key if you want to write a <emphasis role="italic">C</emphasis>, and so on. This is not very efficient, because
        sadly these letters aren’t ordered in such order in a row. When writing notes
        with Cavatina, once you get your fingers placed in the right position, you have
        all notes you need at your fingertips and you don’t have to look
        back down at the keyboard.
    </para>
    
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="note/note_length.xml">
    <?dbhtml filename="note_length.html" ?>

    <info>
        <title>Note length</title>
    </info>
    <para> So far we have 31 notes (covering a bit more than four octaves). Each of these characters
        has its lowercase and uppercase variant, which correspond to the note in
            8<superscript>th</superscript> and 4<superscript>th</superscript> length accordingly.
        Switching to the bold weight of Cavatina, you get 16<superscript>th</superscript>-notes in
        the lowercase and 8<superscript>th</superscript>-notes in the uppercase characters. </para>

    <informaltable>
        <thead>
            <tr>
                <td/>
                <th>Input</th>
                <th>Note length</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th rowspan="2">Regular style</th>
                <td>
                    <cav:computer-key>a</cav:computer-key>
                </td>
                <td> 8<superscript>th</superscript>
                </td>
            </tr>
            <tr>
                <td>
                    <cav:computer-key>A</cav:computer-key>
                </td>
                <td> 4<superscript>th</superscript>
                </td>
            </tr>

            <tr>
                <th rowspan="2">Bold style</th>
                <td>
                    <cav:computer-key><emphasis role="bold">a</emphasis></cav:computer-key>
                </td>
                <td> 16<superscript>th</superscript>
                </td>
            </tr>
            <tr>
                <td>
                    <cav:computer-key><emphasis role="bold">A</emphasis></cav:computer-key>
                </td>
                <td> 8<superscript>th</superscript>
                </td>
            </tr>
        </tbody>
    </informaltable>

    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key>, a A <emphasis role="bold">a
                            A</emphasis>,</cav:computer-key></td>
                    <td><cav:figure id="example-note-length-base"/></td>
                </tr>
            </tbody>
        </informaltable>
    </example>

    <para>Appart from that, Cavatina has a special key that serves as a <emphasis role="bold">modifier key</emphasis>: the <cav:computer-key>^</cav:computer-key>/<cav:computer-key>°</cav:computer-key> key. We are going to call
        <cav:computer-key>^</cav:computer-key> the <glossterm>inverter</glossterm> and <cav:computer-key>°</cav:computer-key> the
            <glossterm>time</glossterm> character, the latter of which, among other things, extends
        the duration of notes. Every time you hit the time key after a note, the note’s length
        doubles. You can do this up to a maximum of twice per note, i.e. for a whole note you would
        need to type a 4<superscript>th</superscript>-note followed by two times <cav:computer-key>°</cav:computer-key>.</para>

    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-note-length">, f F f~ f~~ F~ F~~,</cav:computer-key></td>
                    <td><cav:music-notation for="example-note-length">, f F f~ f~~ F~ F~~,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>

    <para>For <glossterm>dotted notes</glossterm> you use <cav:computer-key>&lt;</cav:computer-key> after the note.</para>
    <para>To draw a <glossterm>tie</glossterm> after a note append an <cav:computer-key>L</cav:computer-key>.</para>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="note/note_orientation.xml">
    <?dbhtml filename="note_orientation.html" ?>

    <info>
        <title>Note orientation</title>
    </info>
    <para>The stem of a note can be inverted. This is done with the <glossterm>inverter</glossterm><cav:computer-key>^</cav:computer-key>. A note can only be inverted once (which doesn’t stop
        you from un-inverting).</para>
    <para>To invert the stem of a chord you invert the first note of the chord. If the next note in
        the chord would collide in its default orientation, then it is automatically inverted.
        Otherwise keep inverting until you obtain the desired result. This is useful for separating
        voices within one chord.</para>
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-note-orientation">, f f^ j j^, afj a^fj a^f^j a^f^j^,</cav:computer-key></td>
                    <td><cav:music-notation for="example-note-orientation">, f f` j j`, afj a`fj a`f`j a`f`j`,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="note/note_rests.xml">
    <?dbhtml filename="note_rests.html" ?>

    <info>
        <title>Rests</title>
    </info>
    <para>Rests are accessed via the <cav:computer-key>ü</cav:computer-key>/<cav:computer-key>Ü</cav:computer-key> key. Their
        duration is changed the same way as for notes. Optionally, you can write the same rest twice
        and the length will increase accordingly.</para>
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-note-rests">, ü Ü üü ÜÜ ü° ü°° Ü° Ü°°,</cav:computer-key></td>
                    <td><cav:music-notation for="example-note-rests">, ] } ]] }} ]~ ]~~ }~ }~~,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="note/note_beams.xml">
    <?dbhtml filename="note_beams.html" ?>

    <info>
        <title>Note beams</title>
    </info>
    
    <para>To beam two 8<superscript>th</superscript> or 16<superscript>th</superscript> notes, write two dots <cav:computer-key>..</cav:computer-key> after the second note. Both
        notes need to have the same orientation before they can be beamed. Currently only pairs of
        notes can be beamed.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-note-beams">,  dh sj..  d^h^ s^..j  d^h s^..j^..,</cav:computer-key></td>
                    <td><cav:music-notation for="example-note-beams">,  dh sj..  d`h` s`..j  d`h s`..j`..,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
    
</section>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/staff_and_barlines.xml">
  <?dbhtml filename="staffs_and_barlines.html" ?>

  <info>
    <title>Staff and Barlines</title>
  </info>

  <para>When you hit the spacebar you draw a new staff “block”.
  Before any note or chord, you have to draw a new <cav:musical-term>staff</cav:musical-term> block where this note
  or chord will sit.</para>

  <para>The barlines are located as follows:</para>

  <informaltable>
    <thead>
      <tr>
        <th>Musical symbol</th>
        <th>Raw input</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>simple barline</td>
        <td><cav:computer-key>,</cav:computer-key></td>
      </tr>
      <tr>
        <td>double barline</td>
        <td><cav:computer-key>,,</cav:computer-key></td>
      </tr>
      <tr>
        <td>final barline</td>
        <td><cav:computer-key>.</cav:computer-key></td>
      </tr>
      <tr>
        <td>repeat barline (start)</td>
        <td><cav:computer-key>;</cav:computer-key></td>
      </tr>
      <tr>
        <td>repeat barline (end)</td>
        <td><cav:computer-key>:</cav:computer-key></td>
      </tr>
    </tbody>
  </informaltable>

  <para>Cavatina is not made to do minor adjustments to the layout, but if you
  consider it necessary, you can gain control over horizontal spacing by using
  the half space <cav:computer-key>-</cav:computer-key> and the quarter space <cav:computer-key>--</cav:computer-key>.</para>
  
  <example>
    <title>Example</title>
    <informaltable>
      <thead>
        <tr>
          <th>Input</th>
          <th>Output</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><cav:computer-key id="example-barlines">, ,, . ; :</cav:computer-key></td>
          <td><cav:music-notation for="example-barlines">, ,, . ; :</cav:music-notation></td>
        </tr>
      </tbody>
    </informaltable>
  </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/clefs.xml">
    <?dbhtml filename="clefs.html" ?>
    
    <info>
        <title>Clefs</title>
    </info>
    
    <para>Cavatina supports three different clefs:</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>F-clef</td>
                <td><cav:computer-key>?</cav:computer-key></td>
            </tr>
            <tr>
                <td>C-Clef</td>
                <td><cav:computer-key>?ß</cav:computer-key> or <cav:computer-key>ß?</cav:computer-key></td>
            </tr>
            <tr>
                <td>G-Clef</td>
                <td><cav:computer-key>ß</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The input of the notes is invariant of the signature; it doesn’t depend on the current
        clef.</para>

    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-clefs">,ß f f ,? f f,ß? f f ,</cav:computer-key></td>
                    <td><cav:music-notation for="example-clefs">,_ f f ,+ f f ,_+ f f,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/time_signatures.xml">
    <?dbhtml filename="time_signatures.html" ?>

    <info>
        <title>Time Signatures</title>
    </info>
    
    <para>Time signatures have to be written after clefs (and key signatures) or barlines. To start
        a time signature enter the <cav:musical-term>time</cav:musical-term> key <cav:computer-key>°</cav:computer-key>. After
        that you just write the upper and lower numeral successively. </para>
    
    <para>To write the <cav:musical-term>common time</cav:musical-term> or <cav:musical-term>cut
        time</cav:musical-term> symbols, enter <cav:computer-key>c</cav:computer-key> or <cav:computer-key>C</cav:computer-key> 
        after the <emphasis role="italic">time</emphasis> key.</para>
    
    <para>A space is automatically attached after a time signature, so that you don’t have to open a
        new staff block yourself.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-time-signatures">,°34 ,°1216 ,?'''°34 ,°c ,</cav:computer-key></td>
                    <td><cav:music-notation for="example-time-signatures">,~34 ,~1216 ,_---~34 ,~c ,</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/articulations.xml">
    <?dbhtml filename="articulations.html" ?>
    
    <info>
        <title>Articulations</title>
    </info>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>staccato</td>
                <td><cav:computer-key>ä</cav:computer-key></td>
            </tr>
            <tr>
                <td>tenuto</td>
                <td><cav:computer-key>Ä</cav:computer-key></td>
            </tr>
            <tr>
                <td>staccatissimo</td>
                <td><cav:computer-key>ää</cav:computer-key></td>
            </tr>
            <tr>
                <td>fermata</td>
                <td><cav:computer-key>ÄÄ</cav:computer-key></td>
            </tr>
            <tr>
                <td>accent</td>
                <td><cav:computer-key>&gt;</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>All articulations are written after the lowest note of a chord, except the fermata, which
        is written after the highest note. </para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-articulations">  Aä AÄ Aää AÄÄ A&gt;</cav:computer-key></td>
                    <td><cav:music-notation for="example-articulations">  A' A" A'' A"" A&gt;</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/dynamics.xml">
    <?dbhtml filename="dynamics.html" ?>
    
    <info>
        <title>Dynamics</title>
    </info>
    <para>Dynamics are aligned with respect to the note to which they are applied. Therefore, if you
        are writing a chord with some dynamics marking, you should write that marking just after the
        first (lowest) note of the chord.</para>
    
    <table>
        <caption>Note dynamics</caption>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>pianississimo</td>
                <td><cav:computer-key>***</cav:computer-key></td>
            </tr>
            <tr>
                <td>pianissimo</td>
                <td><cav:computer-key>**</cav:computer-key></td>
            </tr>
            <tr>
                <td>piano</td>
                <td><cav:computer-key>*</cav:computer-key></td>
            </tr>
            <tr>
                <td>mezzo piano</td>
                <td><cav:computer-key>*+</cav:computer-key></td>
            </tr>
            <tr>
                <td>mezzo forte</td>
                <td><cav:computer-key>+*</cav:computer-key></td>
            </tr>
            <tr>
                <td>forte</td>
                <td><cav:computer-key>+</cav:computer-key></td>
            </tr>
            <tr>
                <td>fortissimo</td>
                <td><cav:computer-key>++</cav:computer-key></td>
            </tr>
            <tr>
                <td>fortississimo</td>
                <td><cav:computer-key>+++</cav:computer-key></td>
            </tr>
            <tr>
                <td>sforzando</td>
                <td><cav:computer-key>++*</cav:computer-key> or
                    <cav:computer-key>**+</cav:computer-key></td>
            </tr>
            <tr>
                <td>forte-piano</td>
                <td><cav:computer-key>***+</cav:computer-key> or 
                    <cav:computer-key>+++*</cav:computer-key> or 
                    <cav:computer-key>**^</cav:computer-key> or 
                    <cav:computer-key>++^</cav:computer-key></td>
            </tr>
        </tbody>
    </table>
    
    <table>
        <caption>Phrasal dynamics</caption>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>crescendo</td>
                <td><cav:computer-key>l</cav:computer-key></td>
            </tr>
            <tr>
                <td>decrescendo</td>
                <td><cav:computer-key>l^</cav:computer-key></td>
            </tr>
        </tbody>
    </table>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-dynamics">  d*fh  h^++er  M**+  Dl </cav:computer-key></td>
                    <td><cav:music-notation for="example-dynamics">  d\fh  h`||er  M\\|  Dl </cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/ornaments.xml">
    <?dbhtml filename="ornaments.html" ?>

    <info>
        <title>Ornaments</title>
    </info>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>mordent</td>
                <td><cav:computer-key>ö</cav:computer-key></td>
            </tr>
            <tr>
                <td>inv. mordent</td>
                <td><cav:computer-key>ö^</cav:computer-key></td>
            </tr>
            <tr>
                <td>trill</td>
                <td><cav:computer-key>öö</cav:computer-key></td>
            </tr>
            <tr>
                <td>turn</td>
                <td><cav:computer-key>Ö</cav:computer-key></td>
            </tr>
            <tr>
                <td>inv. turn</td>
                <td><cav:computer-key>Ö^</cav:computer-key></td>
            </tr>
            <tr>
                <td>arpeggio</td>
                <td><cav:computer-key>P</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Note that, intuitively enough, ornaments are inverted with the <emphasis role="musical_term">inverter</emphasis> key <cav:computer-key>^</cav:computer-key>.</para>
    <para>To extend the trill or the arpeggio repeat that same character. The arpeggio is written at
        the end of a chord. </para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-ornaments"> Dö DÖ Dö^ DÖ^ Döö Döööö </cav:computer-key></td>
                    <td><cav:music-notation for="example-ornaments">  D[ D{ D[` D{` D[[ D[[[[ </cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/repetition_markings.xml">
    <?dbhtml filename="repetition_markings.html" ?>

    <info>
        <title>Repetition markings</title>
    </info>
    
    <para>Apart from the repeat barlines <cav:computer-key>;</cav:computer-key>/<cav:computer-key>:</cav:computer-key>, you
        can use the following repetition markings:</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1<superscript>st</superscript> repetition</td>
                <td><cav:computer-key>o</cav:computer-key></td>
            </tr>
            <tr>
                <td>2<superscript>nd</superscript> repetition</td>
                <td><cav:computer-key>oo</cav:computer-key></td>
            </tr>
            <tr>
                <td>end marking</td>
                <td><cav:computer-key>o^</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The end marking is necessary for the MusicXML/MIDI converter to detect the range of the
        repetition sections.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>coda</td>
                <td><cav:computer-key>i</cav:computer-key></td>
            </tr>
            <tr>
                <td>segno</td>
                <td><cav:computer-key>I</cav:computer-key></td>
            </tr>
            <tr>
                <td>D.C.</td>
                <td>k</td>
            </tr>
            <tr>
                <td>D.S.</td>
                <td>K</td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Writing <emphasis role="italic">coda</emphasis> or <emphasis role="italic">segno</emphasis> right after <emphasis role="italic">D.C.</emphasis> or <emphasis role="italic">D.S.</emphasis> will append the words "al Coda" and "al Fine" accordingly.</para>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-repetition">, D F G Do, D F D Go^:oo  D S A Ü.</cav:computer-key></td>
                    <td><cav:music-notation for="example-repetition">, D F G Do, D F D Go`:oo  D S A }.</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/other_notation.xml">
    <?dbhtml filename="other_notation.html" ?>

    <info>
        <title>Other Notation</title>
    </info>
    
    <para>Octave markings are used in a similar manner as repetition markings and always after the
        highest note in a chord.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>8<superscript>va</superscript></td>
                <td><cav:computer-key>O</cav:computer-key></td>
            </tr>
            <tr>
                <td>8<superscript>va</superscript> (2)</td>
                <td><cav:computer-key>OO</cav:computer-key></td>
            </tr>
            <tr>
                <td>end 8<superscript>va</superscript></td>
                <td><cav:computer-key>O^</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>The triplet is written before the chord sequence. Use tight spacing to fit the notes under
        the mark: enter three quarter-spaces <cav:computer-key>---</cav:computer-key> between the notes.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>triplet</td>
                <td><cav:computer-key>_</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
    
    <para>Pedal markings are lower markings and as such they have to be applied to the first note of
        a chord.</para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>pedal</td>
                <td><cav:computer-key>p</cav:computer-key></td>
            </tr>
            <tr>
                <td>release pedal</td>
                <td><cav:computer-key>pp</cav:computer-key></td>
            </tr>
        </tbody>
    </informaltable>
</section>
    <section xmlns="http://docbook.org/ns/docbook" xmlns:cav="http://cavatinafont.com/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1-extended" xml:base="sections/staff_systems.xml">
    <?dbhtml filename="staff_systems.html" ?>

    <info>
        <title>Staff systems</title>
    </info>
    
    <para>To create systems of multiple staves you can extend barlines to join with the upper staff.
        To draw a <emphasis role="italic">grand staff</emphasis>, first enter a newline followed by
        a single barline <cav:computer-key>,</cav:computer-key> to start a new staff. To draw the brace connecting with the
        upper staff, type in <cav:computer-key>**</cav:computer-key>. Then continue with the clef and key signature as you
        would normally do. To connect the subsequent barlines, write a single <cav:computer-key>*</cav:computer-key> after
        them. </para>
    
    <informaltable>
        <thead>
            <tr>
                <th>Musical symbol</th>
                <th>Raw input</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>brace</td>
                <td><cav:computer-key>,**</cav:computer-key></td>
            </tr>
            <tr>
                <td>long barlines</td>
                <td><cav:computer-key>,*</cav:computer-key> or <cav:computer-key>.*</cav:computer-key> ...</td>
            </tr>
        </tbody>
    </informaltable>
    
    <example>
        <title>Example</title>
        <informaltable>
            <thead>
                <tr>
                    <th>Input</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><cav:computer-key id="example-staff-systems">,ß''' DFJ DGJ J s d&gt;..,
,**?''' A D Ü MJ ,*</cav:computer-key></td>
                    <td><cav:music-notation for="example-staff-systems" multipart="true">,+--- DFJ DGJ J s d&gt;..,
,\\_--- A D } MJ ,\</cav:music-notation></td>
                </tr>
            </tbody>
        </informaltable>
    </example>
</section>

</article>
